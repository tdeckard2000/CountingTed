<%-include('header');-%>
<!-- Custom Styles -->
<link rel="stylesheet" href="/styles/styles.css">
</head>

<body class="dashboardBody">

<div class="container">
  <div class="row headerRow">
    <div class=" topCounterDiv col-3">
      <div class="topTotalCount">1200</div>
      <div class="topOutOf">/2000 cal</div> 
    </div>
    <div class="topCounterDiv col-3">
      <div class="topTotalCount">1000</div>
      <div class="topOutOf">/1000 sdm</div> 
    </div>
    <div class="topCounterDiv col-3">
      <div class="topTotalCount">60</div>
      <div class="topOutOf">/165 pro</div> 
    </div>
    <div class="topCounterDiv col-3">
      <div class="topTotalCount">100</div>
      <div class="topOutOf">/165 crb</div> 
    </div>
  </div>
</div>

<!-- Diary List on Dashboard -->
<div class="itemListContainer">
  <%foodDiary.forEach((element)=>{%>
    <div class="container itemRowContainer">
      <div class="row itemRow" value='<%=element._id%>' data-toggle="collapse" data-target="#id<%=element._id%>">
        <div class="col-9 itemTimeNameDiv">
          <h2 class="itemTime">4:35pm</h2>
          <h2 class="itemName"><%=element.item.name%></h2>
        </div>
        <div class="col-3 itemValueDiv">
          <h6 class="itemValue"><%=element.item.calories%> cal</h6>
          <h6 class="itemValue"><%=element.item.sodium%> sdm</h6>
          <h6 class="itemValue"><%=element.item.protein%> pro</h6>
          <h6 class="itemValue"><%=element.item.carbs%> crb</h6>
        </div>
      </div>
      <div class="collapse itemDropdownBox" id="id<%=element._id%>">
          <table class="itemDropdownTable">
            <tr>
              <td>cal: <%=element.item.calories%></td>
              <td>sdm: <%=element.item.sodium%></td>
              <td>pro: <%=element.item.protein%></td>
              <td>crb: <%=element.item.carbs%></td>
            </tr>
            <tr>
              <td>fat: <%=element.item.fat%></td>
              <td>chol: <%=element.item.cholesterol%></td>
              <td>fibr: <%=element.item.fiber%></td>
              <td>sgr: <%=element.item.sugar%></td>
            </tr>
            <tr>
              <td>vitE: <%=element.item.vitE%></td>
              <td>vitA: <%=element.item.vitA%></td>
              <td>vitC: <%=element.item.vitC%></td>
              <td>vitD: <%=element.item.vitD%></td>
            </tr>
            <tr>
              <td>iron: <%=element.item.iron%></td>
              <td>calc: <%=element.item.calcium%></td>
              <td>ptas: <%=element.item.potassium%></td>
              <td>zinc: <%=element.item.zinc%></td>
            </tr>
          </table>
          <div class="itemDropdownButtons">
            <form action="/dashboard/modifyDiary" method="POST">
              <button name="duplicateItem" class="buttonNoFormat" value="<%=element._id%>">
                <img class="itemDuplicateIcon" src="./files/duplicateIcon.svg" alt="duplicateItem">
              </button>
              <button name="removeItem" class="buttonNoFormat" value="<%=element._id%>">
                <img class="itemTrashIcon" src="./files/trashCan.svg" alt="removeItem">
              </button>
            </form>
          </div>
      </div>
    </div>
  <%});%>
</div>

<!-- BootStrap Modals ==================== -->

<!-- Quick Add -->
<div class="modal" id="quickAdd" tabindex="-1" role="dialog">
  <div class="modalQuickAdd modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Quick Add</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>Modal body text goes here.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary cancel" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary save">Save</button>
      </div>
    </div>
  </div>
</div>

<!-- Select Item -->
<div class="modal" id="itemAdd" tabindex="-1" role="dialog">
  <div class="modalQuickAdd modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Select Item</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      
      <div class=" selectItemBody modal-body">
        <form method="POST" action="/addToDiary">    
            <input class="filterInput" type="text" placeholder="filter" id="foodItemFilter">
            <span type="button" class="addItemQuestion" data-toggle="collapse" data-target="#addItemCollapse">?</span>
            <div class="buttonNewEdit">
              <a href="">Edit Items</a>
              <a href="./newitem">New Item</a>
            </div>
            <hr class="selectItemHR">
            
           

            <div class="selectableItems">
              <!-- Create list of items in food selector modal. Add an ID to each, starting with zero. -->
              <%itemNumber = -1%>
              <%foodItemList.forEach((element)=>{%>
                <%itemNumber++%>
                <%fullElement=JSON.stringify(element)%>
                <div class="selectableItem">
                  <button name="foodItem" type="submit" id="listItem<%=itemNumber%>" value="<%=fullElement%>" ><%=element.name%></button>
                </div>
              <%});%>
            </div>

        </form>    
      </div>
        
        
        <div class="collapse" id="addItemCollapse">
          <div class="card card-body">
            Help Text Here?
          </div>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary cancel" data-dismiss="modal">Cancel</button>
          <button type="submit" class="btn btn-primary save">Save</button>
        </div>
      

    </div>
  </div>
</div>

<!-- Settings -->
<div class="modal" id="settings" tabindex="-1" role="dialog">
  <div class="modalQuickAdd modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Settings</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>Modal body text goes here.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary cancel" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary save">Save</button>
      </div>
    </div>
  </div>
</div>
<img class="backgroundLogo" src="./files/TedCounterLogo.svg" alt="">
<nav class="bottomButtons fixed-bottom">
  <button class="buttonSettings" data-target="#settings" data-toggle="modal">‚öô</button>
  <button class="buttonAddItem" data-target="#itemAdd" data-toggle="modal">üçΩ</button>
  <button class="buttonQuickAdd" data-target="#quickAdd" data-toggle="modal">üî•</button>
</nav>

<!-- Bottom Navigation Bar -->
<nav class=" bottomBar navbar fixed-bottom">
  <a href="/">
    <img class="bottomBarLogo" src="./files/logoCup.svg" alt="">
  </a>
  <a class="bottomBarDay" href="#">Today</a>
</nav>

</body>
</html>

<%-include('footer');-%>