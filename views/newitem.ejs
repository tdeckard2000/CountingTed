<%-include('header');-%>
<!-- Custom Styles -->
<link rel="stylesheet" href="/styles/stylesNewItem.css">
</head>

<body class="dashboardBody">

<div class="container">
  <div class="row headerRow">
    <div class=" topCounterDiv col-3">
      <div class="topTotalCount">-</div>
      <div class="topOutOf">/ -</div> 
    </div>
    <div class="topCounterDiv col-3">
      <div class="topTotalCount">-</div>
      <div class="topOutOf">/ -</div> 
    </div>
    <div class="topCounterDiv col-3">
      <div class="topTotalCount">-</div>
      <div class="topOutOf">/ -</div> 
    </div>
    <div class="topCounterDiv col-3">
      <div class="topTotalCount">-</div>
      <div class="topOutOf">/ -</div> 
    </div>
  </div>
</div>

<div class="itemInputsContainer vertical-center">
  <form class="newItemForm" action="./newitem" method="POST">
    <div class="nameBarcodeDiv">
      <input class="newItemInputName" name='itemName' placeholder="name (required)" type="text" maxlength="50" required>
      <button type="button" data-toggle="modal" data-target="#barcodeModal" class="barcodeButton btn"><img src="./files/barcode.svg" alt=""></button>
    </div>
    <div class="newItemDiv">

      <!-- Display top four items separated into columns -->
      <div class="flexRow">
        <div class="flexColumn flexLeftColumn">
          <%for(i=0; i<nutritionTopFour.length; i++){%>
            <%if(i%2 == 0){%>
              <label><%=nutritionTopFour[i]%></label>
              <input class="topFour" name="<%=nutritionTopFour[i]%>" inputmode="numeric" maxlength="4" pattern="[0-9]*" type="text">
            <%}%>
          <%}%>
        </div>
        <div class="flexColumn flexRightColumn">
          <%for(i=0; i<nutritionTopFour.length; i++){%>
            <%if(i%2 !== 0){%>
              <label><%=nutritionTopFour[i]%></label>
              <input class="topFour" name="<%=nutritionTopFour[i]%>" inputmode="numeric" maxlength="4" pattern="[0-9]*" type="text">
            <%}%>
          <%}%>
        </div>
      </div>

      <!-- Display other items separated into columns -->
      <div class="flexRow">
        <div class="flexColumn flexLeftColumn">
          <%for(i=0; i<nutritionOther.length; i++){%>
            <%if(i%2 == 0){%>
              <label><%=nutritionOther[i]%></label>
              <input class="other" name="<%=nutritionOther[i]%>" inputmode="numeric" maxlength="4" pattern="[0-9]*" type="text">
            <%}%>
          <%}%>
        </div>
        <div class="flexColumn flexRightColumn">
          <%for(i=0; i<nutritionOther.length; i++){%>
            <%if(i%2 !== 0){%>
              <label><%=nutritionOther[i]%></label>
              <input class="other" name="<%=nutritionOther[i]%>" inputmode="numeric" maxlength="4" pattern="[0-9]*" type="text">
            <%}%>
          <%}%>
        </div>
      </div>

    </div>
    <div class="buttonsDiv">
      <a href="./dashboard"><button type="button" class="btn cancel">Cancel</button></a>
      <button type="submit" class="btn save">Save</button>
    </div>    
  </form>
</div>

<!-- Barcode Modal -->
<form id="editItemForm">
  <div class="modal" id="barcodeModal" tabindex="-1" role="dialog">
    <div class="modalQuickAdd modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Barcode Search</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">

          <!-- Loading Indicator -->
          <div class="loadingIndicatorDiv hideElement">
            <div class="loadingIndicator spinner-border text-info" role="status">
              <span class="sr-only">Loading...</span>
            </div>
          </div>

          <!-- Enter Barcode Field -->
          <div class="barcodeSearchDiv">
            <input name="name" id="barcodeField" type="text" maxlength="50" inputmode="numeric" placeholder="Enter Barcode (BETA)">
            <button type="button"class="barcodeSearchButton btn" alt="Search">Search</button>
          </div>
          <p class="barcodeTips">Include numbers to the left and right of barcode.</p>
          <p id="itemData0"></p>
          <p id="itemData1"></p>
          <p id="itemData2"></p>
          <p id="itemData3"></p>
          
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary cancel" data-dismiss="modal">Cancel</button>
          <button type="submit" id="saveButton" class="btn btn-primary useButton">Use</button>
        </div>
      </div>
    </div>
  </div>
</form>

<nav class=" bottomBar navbar fixed-bottom">
  <a href="/">
    <img class="bottomBarLogo" src="./files/logoCup.svg" alt="">
  </a>
  <a class="bottomBarDay" href="#">Today</a>
</nav>

</body>
</html>

<%-include('footer');-%>
<script src="./scripts/scriptNewItem.js"></script>